<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>GP-GPUç¼–ç¨‹ï¼šCUDAä»‹ç» | æ³¢æ³¢æ²™ğŸ </title>
<meta name=keywords content><meta name=description content="
æœ¬æ–‡ç®€è¦ä»‹ç»äº†åˆ©ç”¨GPUè¿›è¡Œé€šç”¨è®¡ç®—çš„å†å²å’Œæ–¹æ³•ï¼Œä»¥NVDIAå®¶çš„CUDAæ¶æ„ä¸ºä¾‹ï¼Œä»‹ç»GPGPUç¼–ç¨‹çš„é‡è¦æ¦‚å¿µå’Œç®€å•å®è·µã€‚å¸Œæœ›èƒ½å¤Ÿåœ¨æµ©å¦‚çƒŸæµ·çš„ç½‘ç»œèµ„æ–™ä¹‹å¤–ï¼Œç»™åƒæˆ‘è¿™æ ·çš„åˆå­¦è€…æä¾›ä¸€äº›æ¸…æ™°çš„å‚è€ƒã€‚CUDA Cçš„å­¦ä¹ èµ„æ–™åœ¨æ–‡æœ«ç»™å‡ºï¼ŒNVDIAçš„å®˜æ–¹æ–‡æ¡£å¹²å‡€å‹å¥½ï¼Œå¬è¯´ç¤¾åŒºç”Ÿæ€ä¹Ÿå ªç§°å…¸èŒƒï¼Œå¥½æ„Ÿåº¦+1ã€‚"><meta name=author content><link rel=canonical href=https://pps43.github.io/posts/cuda_programming_gpgpu/><link crossorigin=anonymous href=/assets/css/stylesheet.da461cdc6aa5b1045299cab0ebd07edbb2f1e481e0c7ae775d260fc5af887327.css integrity="sha256-2kYc3GqlsQRSmcqw69B+27Lx5IHgx653XSYPxa+Icyc=" rel="preload stylesheet" as=style><link rel=icon href=https://pps43.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://pps43.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://pps43.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://pps43.github.io/apple-touch-icon.png><link rel=mask-icon href=https://pps43.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://pps43.github.io/posts/cuda_programming_gpgpu/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css integrity="sha512-0aPQyyeZrWj9sCA46UlmWgKOP0mUipLQ6OZXu8l4IcAmD2u31EPEy9VcIMvl7SoAaKe8bLXZhYoMaE/in+gcgA==" crossorigin=anonymous referrerpolicy=no-referrer><script src=https://unpkg.com/mermaid/dist/mermaid.min.js></script><script>const config={startOnLoad:!0,theme:"neutral",themeVariables:{lineColor:"#aaaaaa"},flowchart:{useMaxWidth:!1,htmlLabels:!0}};mermaid.initialize(config),window.onload=()=>{window.mermaid.init(void 0,document.querySelectorAll(".language-mermaid"))}</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script id=MathJax-script async src=https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-7GDH7EZ6GL"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-7GDH7EZ6GL")}</script><meta property="og:url" content="https://pps43.github.io/posts/cuda_programming_gpgpu/"><meta property="og:site_name" content="æ³¢æ³¢æ²™ğŸ "><meta property="og:title" content="GP-GPUç¼–ç¨‹ï¼šCUDAä»‹ç»"><meta property="og:description" content=" æœ¬æ–‡ç®€è¦ä»‹ç»äº†åˆ©ç”¨GPUè¿›è¡Œé€šç”¨è®¡ç®—çš„å†å²å’Œæ–¹æ³•ï¼Œä»¥NVDIAå®¶çš„CUDAæ¶æ„ä¸ºä¾‹ï¼Œä»‹ç»GPGPUç¼–ç¨‹çš„é‡è¦æ¦‚å¿µå’Œç®€å•å®è·µã€‚å¸Œæœ›èƒ½å¤Ÿåœ¨æµ©å¦‚çƒŸæµ·çš„ç½‘ç»œèµ„æ–™ä¹‹å¤–ï¼Œç»™åƒæˆ‘è¿™æ ·çš„åˆå­¦è€…æä¾›ä¸€äº›æ¸…æ™°çš„å‚è€ƒã€‚CUDA Cçš„å­¦ä¹ èµ„æ–™åœ¨æ–‡æœ«ç»™å‡ºï¼ŒNVDIAçš„å®˜æ–¹æ–‡æ¡£å¹²å‡€å‹å¥½ï¼Œå¬è¯´ç¤¾åŒºç”Ÿæ€ä¹Ÿå ªç§°å…¸èŒƒï¼Œå¥½æ„Ÿåº¦+1ã€‚"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2015-02-28T00:00:00+00:00"><meta property="article:modified_time" content="2015-02-28T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="GP-GPUç¼–ç¨‹ï¼šCUDAä»‹ç»"><meta name=twitter:description content="
æœ¬æ–‡ç®€è¦ä»‹ç»äº†åˆ©ç”¨GPUè¿›è¡Œé€šç”¨è®¡ç®—çš„å†å²å’Œæ–¹æ³•ï¼Œä»¥NVDIAå®¶çš„CUDAæ¶æ„ä¸ºä¾‹ï¼Œä»‹ç»GPGPUç¼–ç¨‹çš„é‡è¦æ¦‚å¿µå’Œç®€å•å®è·µã€‚å¸Œæœ›èƒ½å¤Ÿåœ¨æµ©å¦‚çƒŸæµ·çš„ç½‘ç»œèµ„æ–™ä¹‹å¤–ï¼Œç»™åƒæˆ‘è¿™æ ·çš„åˆå­¦è€…æä¾›ä¸€äº›æ¸…æ™°çš„å‚è€ƒã€‚CUDA Cçš„å­¦ä¹ èµ„æ–™åœ¨æ–‡æœ«ç»™å‡ºï¼ŒNVDIAçš„å®˜æ–¹æ–‡æ¡£å¹²å‡€å‹å¥½ï¼Œå¬è¯´ç¤¾åŒºç”Ÿæ€ä¹Ÿå ªç§°å…¸èŒƒï¼Œå¥½æ„Ÿåº¦+1ã€‚"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://pps43.github.io/posts/"},{"@type":"ListItem","position":2,"name":"GP-GPUç¼–ç¨‹ï¼šCUDAä»‹ç»","item":"https://pps43.github.io/posts/cuda_programming_gpgpu/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"GP-GPUç¼–ç¨‹ï¼šCUDAä»‹ç»","name":"GP-GPUç¼–ç¨‹ï¼šCUDAä»‹ç»","description":" æœ¬æ–‡ç®€è¦ä»‹ç»äº†åˆ©ç”¨GPUè¿›è¡Œé€šç”¨è®¡ç®—çš„å†å²å’Œæ–¹æ³•ï¼Œä»¥NVDIAå®¶çš„CUDAæ¶æ„ä¸ºä¾‹ï¼Œä»‹ç»GPGPUç¼–ç¨‹çš„é‡è¦æ¦‚å¿µå’Œç®€å•å®è·µã€‚å¸Œæœ›èƒ½å¤Ÿåœ¨æµ©å¦‚çƒŸæµ·çš„ç½‘ç»œèµ„æ–™ä¹‹å¤–ï¼Œç»™åƒæˆ‘è¿™æ ·çš„åˆå­¦è€…æä¾›ä¸€äº›æ¸…æ™°çš„å‚è€ƒã€‚CUDA Cçš„å­¦ä¹ èµ„æ–™åœ¨æ–‡æœ«ç»™å‡ºï¼ŒNVDIAçš„å®˜æ–¹æ–‡æ¡£å¹²å‡€å‹å¥½ï¼Œå¬è¯´ç¤¾åŒºç”Ÿæ€ä¹Ÿå ªç§°å…¸èŒƒï¼Œå¥½æ„Ÿåº¦+1ã€‚\n","keywords":[],"articleBody":" æœ¬æ–‡ç®€è¦ä»‹ç»äº†åˆ©ç”¨GPUè¿›è¡Œé€šç”¨è®¡ç®—çš„å†å²å’Œæ–¹æ³•ï¼Œä»¥NVDIAå®¶çš„CUDAæ¶æ„ä¸ºä¾‹ï¼Œä»‹ç»GPGPUç¼–ç¨‹çš„é‡è¦æ¦‚å¿µå’Œç®€å•å®è·µã€‚å¸Œæœ›èƒ½å¤Ÿåœ¨æµ©å¦‚çƒŸæµ·çš„ç½‘ç»œèµ„æ–™ä¹‹å¤–ï¼Œç»™åƒæˆ‘è¿™æ ·çš„åˆå­¦è€…æä¾›ä¸€äº›æ¸…æ™°çš„å‚è€ƒã€‚CUDA Cçš„å­¦ä¹ èµ„æ–™åœ¨æ–‡æœ«ç»™å‡ºï¼ŒNVDIAçš„å®˜æ–¹æ–‡æ¡£å¹²å‡€å‹å¥½ï¼Œå¬è¯´ç¤¾åŒºç”Ÿæ€ä¹Ÿå ªç§°å…¸èŒƒï¼Œå¥½æ„Ÿåº¦+1ã€‚\nç®€ä»‹ å†å² è¿‘30å¹´æ¥ï¼Œæå‡CPUè®¡ç®—æ€§èƒ½çš„ä¸»è¦æ–¹æ³•å°±æ˜¯æå‡æ—¶é’Ÿé¢‘ç‡ã€‚æ­¤æ–¹æ³•åœ¨ç›®å‰çš„ç¡…åŸºåŠå¯¼ä½“å·¥è‰ºä¸‹å·²è¿›å…¥ç“¶é¢ˆï¼Œè½¬è€Œç”¨â€œå¹¶è¡Œâ€æ¥æå‡è®¡ç®—æ€§èƒ½ï¼ˆä¾‹å¦‚å¤šæ ¸ï¼‰ã€‚\nè‡ª1980å¹´ä»£èµ·ï¼Œä¸€å®¶åä¸ºSilicon Graphicsçš„å…¬å¸åœ¨ä¸šç•Œæ¨å¹¿OpenGLç”¨äºæ¸²æŸ“ä¸‰ç»´å›¾åƒï¼Œè·å¾—äº†å¹¿æ³›æ”¯æŒã€‚NVIDIAã€ATIç­‰å…¬å¸ä¹Ÿå¼€å§‹å¯¹è®¡ç®—æœº3Då›¾å½¢è®¡ç®—åŠ é€Ÿè¿›è¡Œç ”ç©¶ï¼Œå¹¶å°†æ­¤ç¡¬ä»¶è®¾å¤‡ç§°ä¸ºâ€œGPUâ€ä»¥åŒºåˆ«äºä¼ ç»Ÿçš„CPUã€‚GPUç”±äºå…¶ç»“æ„ç‰¹ç‚¹ï¼Œå…·å¤‡å¼ºå¤§çš„å¹¶è¡Œè®¡ç®—èƒ½åŠ›ã€‚ï¼ˆ1999å¹´ï¼ŒGPUçš„å§‹ç¥–GeForce 256æ¨ªç©ºå‡ºä¸–ã€‚2002å¹´å®Œæ•´æ”¯æŒDX9çš„ç‹è€…Radeon 9700Proæ­£å¼å¼€å¯äº†GPUçš„ä¼—ç¥æ—¶ä»£ï¼ŒAge of Gods. æ˜¾å¡çˆ±å¥½è€…å¯ä»¥çœ‹çœ‹æ­¤æ–‡ï¼šè§†è§‰æ—¶ä»£çš„å›å“ GPUåå¹´å†å²è¿½å¿†ã€‚ï¼‰\nåœ¨å¾ˆé•¿ä¸€æ®µæ—¶é—´é‡Œï¼Œåˆ©ç”¨GPUè¿›è¡Œæ¸²æŸ“æ˜¯é€šè¿‡OpenGLå’ŒDirectXè¿›è¡Œçš„ã€‚äººä»¬å‘ç°ä¼ ç»™GPUè¿›è¡Œåƒç´ ç‚¹æ¸²æŸ“çš„é¢œè‰²ã€çº¹ç†åæ ‡ç­‰ä¿¡æ¯å…¶å®å¯ä»¥æ˜¯ä»»ä½•æ•°æ®ï¼Œå³GPUå¯ä»¥ç”¨äºé€šç”¨è®¡ç®—ï¼ˆGeneral Purpose GPUï¼‰ã€‚ç„¶è€Œå½“æ—¶çš„GPUæœ‰ç€éš¾ä»¥åœ¨æ˜¾å­˜ä»»æ„ä½ç½®è¿›è¡Œè¯»å†™ã€GPUæœ¬èº«ä¹Ÿä¸å…·å¤‡æµ®ç‚¹è®¡ç®—èƒ½åŠ›ã€GPUéš¾ä»¥debugç­‰ä¸¥é‡ç¼ºç‚¹ã€‚æ›´ç³Ÿçš„æ˜¯ï¼Œå¿…é¡»ä½¿ç”¨ä¸€ç§å«â€œshader languageâ€çš„ç¼–ç¨‹è¯­è¨€ï¼Œåˆ©ç”¨OpenGLå’ŒDirectXæä¾›çš„APIå¯¹GPUè¿›è¡Œæ“ä½œã€‚åˆ©ç”¨GPUè¿›è¡Œé€šç”¨è®¡ç®—çš„å·¨å¤§çš„å­¦ä¹ æˆæœ¬ï¼Œä½¿å¾—ç ”ç©¶äººå‘˜æœ›è€Œå´æ­¥ã€‚\nå¯¹äºä¸Šè¿°ç¡¬ä»¶ç¼ºç‚¹ï¼ŒNVDIAæ¨å‡ºäº†åŸºäºCUDAæ¶æ„çš„GPUï¼Œå¦‚2006å¹´ä¸Šå¸‚çš„é«˜ç«¯å¡GeForce 8800 GTXï¼›å¯¹äºä¸Šè¿°è½¯ä»¶ç¼ºç‚¹ï¼ŒNVDIAåœ¨Cçš„åŸºç¡€ä¸Šè¿›è¡Œæ‰©å±•ï¼Œå¹¶åœ¨GeForce 8800 GTXä¸Šå¸‚åå‡ ä¸ªæœˆåå…¬å¸ƒCUDA Cè¯­è¨€åŠç›¸åº”çš„ç¼–è¯‘å™¨ç”¨äºGPGPUçš„ç¼–ç¨‹ã€‚\nç°çŠ¶ æ€§èƒ½ä¸Šï¼Œå°±ä¸ªäººç”µè„‘æ¥è¯´ï¼Œç›®å‰çš„é¡¶çº§CPUï¼Œä¸»é¢‘ä¹Ÿå¾ˆéš¾ä¸Š4GHzï¼Œè€Œæ ¸å¿ƒæ•°é‡å¾ˆéš¾è¾¾åˆ°16ä¸ªï¼ˆè®¡ç®—èƒ½åŠ›çº¦64GFLOPSï¼‰ã€‚è€Œç¨å¾®é«˜ç«¯ç‚¹çš„GPUæ—©å°±è¶…è¿‡3000GFLOPSï¼ˆä»¥GTX 690ä¸ºä¾‹ï¼Œæ ¸å¿ƒé¢‘ç‡çº¦1GHzï¼Œ3072ä¸ªæ ¸å¿ƒï¼‰ã€‚å›½å¤–å·²æœ‰å»ºç«‹åœ¨Tesla k40é›†ç¾¤ä¸Šçš„è¶…ç®—ä¸­å¿ƒã€‚ä¸‹é¢ä¸€å›¾ä»¥è”½ä¹‹å§ã€‚ GPGPUåº”ç”¨ï¼šè€³ç†Ÿèƒ½è¯¦çš„GPUåº”ç”¨è¯¸å¦‚ï¼šè§†æ™¯ä»¿çœŸã€è§†é¢‘æ¸²æŸ“ã€‚ä»¥åŠçŸ³æ²¹å‹˜æ¢ã€ç¯å¢ƒç§‘å­¦ã€èˆªç©ºèˆªå¤©å’Œæµä½“åŠ›å­¦è®¡ç®—ç­‰é¢†åŸŸã€‚ä¸¾å‡ ä¸ªå…¸å‹ä¸”è¾ƒæ–°çš„ä¾‹å­ï¼šåŒ»ç–—æˆåƒã€‚æ™ºèƒ½æ±½è½¦ã€‚æ·±åº¦å­¦ä¹ ã€‚ æ¦‚å¿µ ç¡¬ä»¶ Device, Host\nCPUå’Œå†…å­˜ï¼ˆhost memoryï¼‰æ˜¯hostï¼ŒGPUå’Œæ˜¾å­˜ï¼ˆdevice memoryï¼‰æ˜¯deviceã€‚ SM, SP\nSMï¼šStream-Multiprocessorï¼Œä¿—ç§°â€œå¤§æ ¸â€ã€‚SPï¼šStream-Processorï¼Œä¿—ç§°â€œå°æ ¸â€ã€‚ Global memory\nå°±æ˜¯é€šå¸¸æ„ä¹‰ä¸Šçš„æ˜¾å­˜ã€‚ Shared memory\nä¸ºåŒä¸€ä¸ªblockä¸­è‹¥å¹²threadsæ‰€å…±äº«ã€‚ å­˜å–éå¸¸å¿«ï¼Œå¯çœ‹ä½œuser-managed cacheã€‚CUDA Cä¸­çš„å…³é”®è¯ï¼š__shared__ Constant memory\nå¹¶è¡Œå±‚æ¬¡ å¹¶è¡Œæ˜¯ä¸€ä¸ªæ¦‚å¿µï¼Œå¯ä»¥ç”¨åœ¨ä¸åŒçš„å±‚é¢ã€‚CUDAä¸­ä»é«˜åˆ°ä½æœ‰ä»¥ä¸‹å‡ ä¸ªå±‚æ¬¡ï¼š\nstream -\u003e grid -\u003e block -\u003e (warp) -\u003e thread.\nå¹¶è¡Œå±‚æ¬¡ä¸å­˜å‚¨å±‚æ¬¡æ˜¯å¯¹åº”çš„ã€‚\nthread å¹¶è¡Œçš„åŸºæœ¬å•ä½ã€‚åŒä¸€ä¸ªblockä¸­çš„threadé€šè¿‡shared memoryå…±äº«æ•°æ®ã€‚åŒä¸€ä¸ªblockä¸­çš„threadé€šè¿‡__syncthreads()åŒæ­¥ï¼Œå…·ä½“è§ä¸‹ä¸€èŠ‚ã€‚ warp In the world of weaving, a warp refers to the group of threads being woven together into fabric. In the CUDA Architecture, a warp refers to a collection of 32 threads that are â€œwoven togetherâ€ and get executed in lockstep. At every line in your program, each thread in a warp executes the same instruction on different data. When it comes to handling constant memory, NVIDIA hardware can broadcast a single memory read to each half-warp. A half-warpâ€”not nearly as creatively named as a warpâ€”is a group of 16 threads: half of a 32-thread warp. If every thread in a half-warp requests data from the same address in constant memory, your GPU will generate only a single read request and subsequently broadcast the data to every thread. If you are reading a lot of data from constant memory, you will generate only 1/16 (roughly 6 percent) of the memory traffic as you would when using global memory. æœ€å¤§æ”¯æŒ512ä¸ªthreadsã€‚åªç”¨ä¸€ä¸ªblockä¸èƒ½å……åˆ†åˆ©ç”¨GPUçš„èµ„æºã€‚ grid We call the collection of parallel blocks a grid. åŒä¸€ä¸ªgridä¸­çš„æ‰€æœ‰threadéƒ½æ‰§è¡Œç›¸åŒå‚æ•°çš„æ ¸å‡½æ•°ã€‚ stream A stream is a sequence of commands (possibly issued by different host threads) that execute in order. this behavior is not guaranteed and should therefore not be relied upon for correctness (e.g., inter-kernel communication is undefined). ä¸åŒstreamå¯æ‰§è¡Œä¸åŒå‚æ•°çš„æ ¸å‡½æ•°ã€‚ é€šä¿¡æœºåˆ¶ Inter-thread level\nshared memory. è¦æ±‚æ˜¯åŒä¸€ä¸ªblockä¸­çš„threadsã€‚ å†…ç½®å‡½æ•° __syncthreads(). ä½œç”¨æ˜¯å½“æŸä¸ªçº¿ç¨‹æ‰§è¡Œåˆ°è¯¥å‡½æ•°æ—¶ï¼Œè¿›å…¥ç­‰å¾…çŠ¶æ€ï¼Œç›´åˆ°åŒä¸€çº¿ç¨‹å—ï¼ˆBlockï¼‰ä¸­æ‰€æœ‰çº¿ç¨‹éƒ½æ‰§è¡Œåˆ°è¿™ä¸ªå‡½æ•°ä¸ºæ­¢ã€‚ åŸå­æ“ä½œã€‚å¯ä»¥è·¨blockã€‚ Inter-block level\nInter-stream level\nå®è·µ ç¯å¢ƒæ­å»º é‡‡ç”¨64ä½win7 + visual studio 2013 + cuda toolkit 6.5 ã€‚æ—©æœŸçš„cudaç¯å¢ƒéœ€è¦ä¸‹è½½cuda toolkitã€driversã€cuda SDKï¼Œç°åœ¨å…¨éƒ¨æ‰“åŒ…åˆ°ä¸€èµ·äº†ã€‚Cuda Toolkit 6.5ä¸‹è½½åœ°å€ï¼šå®˜ç½‘ å…³äºè½¯ç¡¬ä»¶å…¼å®¹æ€§çš„é—®é¢˜ï¼Œ2010å¹´çš„è€æ˜¾å¡ï¼ˆæŒ‡ç¬”è€…çš„Quadro NVS 3100M ã€‚æ€ä¹ˆæ ·ï¼Œæ²¡å¬è¿‡å§ï¼Œè¯´å¤šéƒ½æ˜¯æ³ªâ€¦â€¦æ­¤å¡ä»‹äºG210M~G310Mä¹‹é—´ï¼‰ä»å¯ä»¥å®‰è£… 6.5 ç‰ˆï¼ŒåŸºæœ¬å¯ä»¥æ”¾å¿ƒä¸‹è½½ã€‚ å®Œæ•´çš„æ­å»ºè¿‡ç¨‹å‚è€ƒå®˜æ–¹æ–‡æ¡£ã€‚\nå¸¸è§é—®é¢˜ warning: C4819\nåªéœ€åœ¨é¡¹ç›®properties-\u003econfiguration properties-\u003eCUDA C/C++çš„Additional optionsé‚£é‡ŒåŠ ä¸€è¡Œï¼š-Xcompiler /wd4819 errorï¼šexpected and expression (ä¸èƒ½è¯†åˆ«\u003c\u003c\u003c)\né¦–å…ˆæ£€æŸ¥å‡ºé”™çš„ä»£ç æ–‡ä»¶çš„å±æ€§ä¸­ï¼Œitem typeæ˜¯ä¸æ˜¯CUDA C/C++ã€‚å¦‚æœæ˜¯ï¼Œåˆ™æ²¡æœ‰å¤§ç¢ï¼Œåªæ˜¯VSçš„C/C++æ–‡æœ¬ç¼–è¾‘å™¨è®¤ä¸ºæœ‰é”™ï¼Œç¼–è¯‘å™¨å¯ä»¥é€šè¿‡ã€‚è¿™é‡Œæåˆ°ä¸€ç§è‡ªå®šä¹‰å®çš„æ–¹æ³•æ¶ˆé™¤è¿™ä¸ªå°bugã€‚ errorï¼šaddKernel launch failed: invalid device function\nå¸¸ç”¨å·¥å…· deviceQuery.exe\nCUDA Samplesä¸­è‡ªå¸¦çš„æ£€æµ‹æ˜¾å¡ä¿¡æ¯çš„å·¥å…·ã€‚å¯ä»¥æ–¹ä¾¿çš„æŸ¥çœ‹æ˜¾å¡çš„åŸºæœ¬ä¿¡æ¯ã€‚å¦‚ï¼š å‹å· Compute capability æ ¸å¿ƒæ•°é‡ï¼ˆå¤§æ ¸SMã€å°æ ¸SPï¼‰ æ—¶é’Ÿé¢‘ç‡ global memory const memory shared memory/block æœ€å¤§threadsã€blockã€gridé™åˆ¶ç­‰ bandwidthTest.exe\nCUDA Samplesä¸­è‡ªå¸¦çš„æµ‹è¯•Deviceå’ŒHostä¹‹é—´å¸¦å®½çš„å·¥å…·ã€‚è¿˜æœ‰ä¸ªé‡è¦åŠŸèƒ½æ˜¯æ­å»ºCUDAç¯å¢ƒåéªŒè¯æ˜¯å¦æ­£å¸¸è¿è½¬ï¼ˆçœ‹æœ€åResultæ˜¯å¦ä¸ºPASSï¼‰ Visual Profiler\n","wordCount":"2462","inLanguage":"en","datePublished":"2015-02-28T00:00:00Z","dateModified":"2015-02-28T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://pps43.github.io/posts/cuda_programming_gpgpu/"},"publisher":{"@type":"Organization","name":"æ³¢æ³¢æ²™ğŸ ","logo":{"@type":"ImageObject","url":"https://pps43.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://pps43.github.io/ accesskey=h title="æ³¢æ³¢æ²™ğŸ  (Alt + H)">æ³¢æ³¢æ²™ğŸ </a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://pps43.github.io/archives title=Archive><span>Archive</span></a></li><li><a href=https://pps43.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://pps43.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://book.enginew.cn/ title=BookOfGameDev><span>BookOfGameDev</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">GP-GPUç¼–ç¨‹ï¼šCUDAä»‹ç»</h1><div class=post-meta><span title='2015-02-28 00:00:00 +0000 UTC'>February 28, 2015</span>&nbsp;Â·&nbsp;5 min</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#%e7%ae%80%e4%bb%8b aria-label=ç®€ä»‹>ç®€ä»‹</a><ul><li><a href=#%e5%8e%86%e5%8f%b2 aria-label=å†å²>å†å²</a></li><li><a href=#%e7%8e%b0%e7%8a%b6 aria-label=ç°çŠ¶>ç°çŠ¶</a></li></ul></li><li><a href=#%e6%a6%82%e5%bf%b5 aria-label=æ¦‚å¿µ>æ¦‚å¿µ</a><ul><li><a href=#%e7%a1%ac%e4%bb%b6 aria-label=ç¡¬ä»¶>ç¡¬ä»¶</a></li><li><a href=#%e5%b9%b6%e8%a1%8c%e5%b1%82%e6%ac%a1 aria-label=å¹¶è¡Œå±‚æ¬¡>å¹¶è¡Œå±‚æ¬¡</a></li><li><a href=#%e9%80%9a%e4%bf%a1%e6%9c%ba%e5%88%b6 aria-label=é€šä¿¡æœºåˆ¶>é€šä¿¡æœºåˆ¶</a></li></ul></li><li><a href=#%e5%ae%9e%e8%b7%b5 aria-label=å®è·µ>å®è·µ</a><ul><li><a href=#%e7%8e%af%e5%a2%83%e6%90%ad%e5%bb%ba aria-label=ç¯å¢ƒæ­å»º>ç¯å¢ƒæ­å»º</a></li><li><a href=#%e5%b8%b8%e8%a7%81%e9%97%ae%e9%a2%98 aria-label=å¸¸è§é—®é¢˜>å¸¸è§é—®é¢˜</a></li><li><a href=#%e5%b8%b8%e7%94%a8%e5%b7%a5%e5%85%b7 aria-label=å¸¸ç”¨å·¥å…·>å¸¸ç”¨å·¥å…·</a></li></ul></li></ul></div></details></div><div class=post-content><blockquote><p>æœ¬æ–‡ç®€è¦ä»‹ç»äº†åˆ©ç”¨GPUè¿›è¡Œé€šç”¨è®¡ç®—çš„å†å²å’Œæ–¹æ³•ï¼Œä»¥NVDIAå®¶çš„CUDAæ¶æ„ä¸ºä¾‹ï¼Œä»‹ç»GPGPUç¼–ç¨‹çš„é‡è¦æ¦‚å¿µå’Œç®€å•å®è·µã€‚å¸Œæœ›èƒ½å¤Ÿåœ¨æµ©å¦‚çƒŸæµ·çš„ç½‘ç»œèµ„æ–™ä¹‹å¤–ï¼Œç»™åƒæˆ‘è¿™æ ·çš„åˆå­¦è€…æä¾›ä¸€äº›æ¸…æ™°çš„å‚è€ƒã€‚CUDA Cçš„å­¦ä¹ èµ„æ–™åœ¨æ–‡æœ«ç»™å‡ºï¼ŒNVDIAçš„å®˜æ–¹æ–‡æ¡£å¹²å‡€å‹å¥½ï¼Œå¬è¯´ç¤¾åŒºç”Ÿæ€ä¹Ÿå ªç§°å…¸èŒƒï¼Œå¥½æ„Ÿåº¦+1ã€‚</p></blockquote><h1 id=ç®€ä»‹>ç®€ä»‹<a hidden class=anchor aria-hidden=true href=#ç®€ä»‹>#</a></h1><h2 id=å†å²>å†å²<a hidden class=anchor aria-hidden=true href=#å†å²>#</a></h2><p>è¿‘30å¹´æ¥ï¼Œæå‡CPUè®¡ç®—æ€§èƒ½çš„ä¸»è¦æ–¹æ³•å°±æ˜¯æå‡æ—¶é’Ÿé¢‘ç‡ã€‚æ­¤æ–¹æ³•åœ¨ç›®å‰çš„ç¡…åŸºåŠå¯¼ä½“å·¥è‰ºä¸‹å·²è¿›å…¥ç“¶é¢ˆï¼Œè½¬è€Œç”¨â€œå¹¶è¡Œâ€æ¥æå‡è®¡ç®—æ€§èƒ½ï¼ˆä¾‹å¦‚å¤šæ ¸ï¼‰ã€‚</p><p>è‡ª1980å¹´ä»£èµ·ï¼Œä¸€å®¶åä¸ºSilicon Graphicsçš„å…¬å¸åœ¨ä¸šç•Œæ¨å¹¿OpenGLç”¨äºæ¸²æŸ“ä¸‰ç»´å›¾åƒï¼Œè·å¾—äº†å¹¿æ³›æ”¯æŒã€‚NVIDIAã€ATIç­‰å…¬å¸ä¹Ÿå¼€å§‹å¯¹è®¡ç®—æœº3Då›¾å½¢è®¡ç®—åŠ é€Ÿè¿›è¡Œç ”ç©¶ï¼Œå¹¶å°†æ­¤ç¡¬ä»¶è®¾å¤‡ç§°ä¸ºâ€œGPUâ€ä»¥åŒºåˆ«äºä¼ ç»Ÿçš„CPUã€‚GPUç”±äºå…¶ç»“æ„ç‰¹ç‚¹ï¼Œå…·å¤‡å¼ºå¤§çš„å¹¶è¡Œè®¡ç®—èƒ½åŠ›ã€‚ï¼ˆ1999å¹´ï¼ŒGPUçš„å§‹ç¥–GeForce 256æ¨ªç©ºå‡ºä¸–ã€‚2002å¹´å®Œæ•´æ”¯æŒDX9çš„ç‹è€…Radeon 9700Proæ­£å¼å¼€å¯äº†GPUçš„ä¼—ç¥æ—¶ä»£ï¼ŒAge of Gods. æ˜¾å¡çˆ±å¥½è€…å¯ä»¥çœ‹çœ‹æ­¤æ–‡ï¼š<a href=https://news.mydrivers.com/1/276/276298.htm>è§†è§‰æ—¶ä»£çš„å›å“ GPUåå¹´å†å²è¿½å¿†</a>ã€‚ï¼‰</p><p>åœ¨å¾ˆé•¿ä¸€æ®µæ—¶é—´é‡Œï¼Œåˆ©ç”¨GPUè¿›è¡Œæ¸²æŸ“æ˜¯é€šè¿‡OpenGLå’ŒDirectXè¿›è¡Œçš„ã€‚äººä»¬å‘ç°ä¼ ç»™GPUè¿›è¡Œåƒç´ ç‚¹æ¸²æŸ“çš„é¢œè‰²ã€çº¹ç†åæ ‡ç­‰ä¿¡æ¯å…¶å®å¯ä»¥æ˜¯ä»»ä½•æ•°æ®ï¼Œå³GPUå¯ä»¥ç”¨äºé€šç”¨è®¡ç®—ï¼ˆ<code>General Purpose GPU</code>ï¼‰ã€‚ç„¶è€Œå½“æ—¶çš„GPUæœ‰ç€éš¾ä»¥åœ¨æ˜¾å­˜ä»»æ„ä½ç½®è¿›è¡Œè¯»å†™ã€GPUæœ¬èº«ä¹Ÿä¸å…·å¤‡æµ®ç‚¹è®¡ç®—èƒ½åŠ›ã€GPUéš¾ä»¥debugç­‰ä¸¥é‡ç¼ºç‚¹ã€‚æ›´ç³Ÿçš„æ˜¯ï¼Œå¿…é¡»ä½¿ç”¨ä¸€ç§å«â€œshader languageâ€çš„ç¼–ç¨‹è¯­è¨€ï¼Œåˆ©ç”¨OpenGLå’ŒDirectXæä¾›çš„APIå¯¹GPUè¿›è¡Œæ“ä½œã€‚åˆ©ç”¨GPUè¿›è¡Œé€šç”¨è®¡ç®—çš„å·¨å¤§çš„å­¦ä¹ æˆæœ¬ï¼Œä½¿å¾—ç ”ç©¶äººå‘˜æœ›è€Œå´æ­¥ã€‚</p><p>å¯¹äºä¸Šè¿°ç¡¬ä»¶ç¼ºç‚¹ï¼ŒNVDIAæ¨å‡ºäº†åŸºäºCUDAæ¶æ„çš„GPUï¼Œå¦‚2006å¹´ä¸Šå¸‚çš„é«˜ç«¯å¡<a href=https://en.wikipedia.org/wiki/GeForce_8_series#GeForce_8800_Series>GeForce 8800 GTX</a>ï¼›å¯¹äºä¸Šè¿°è½¯ä»¶ç¼ºç‚¹ï¼ŒNVDIAåœ¨Cçš„åŸºç¡€ä¸Šè¿›è¡Œæ‰©å±•ï¼Œå¹¶åœ¨GeForce 8800 GTXä¸Šå¸‚åå‡ ä¸ªæœˆåå…¬å¸ƒCUDA Cè¯­è¨€åŠç›¸åº”çš„ç¼–è¯‘å™¨ç”¨äºGPGPUçš„ç¼–ç¨‹ã€‚</p><h2 id=ç°çŠ¶>ç°çŠ¶<a hidden class=anchor aria-hidden=true href=#ç°çŠ¶>#</a></h2><ul><li>æ€§èƒ½ä¸Šï¼Œå°±ä¸ªäººç”µè„‘æ¥è¯´ï¼Œç›®å‰çš„é¡¶çº§CPUï¼Œä¸»é¢‘ä¹Ÿå¾ˆéš¾ä¸Š4GHzï¼Œè€Œæ ¸å¿ƒæ•°é‡å¾ˆéš¾è¾¾åˆ°16ä¸ªï¼ˆè®¡ç®—èƒ½åŠ›çº¦64GFLOPSï¼‰ã€‚è€Œç¨å¾®é«˜ç«¯ç‚¹çš„GPUæ—©å°±è¶…è¿‡3000GFLOPSï¼ˆä»¥GTX 690ä¸ºä¾‹ï¼Œæ ¸å¿ƒé¢‘ç‡çº¦1GHzï¼Œ3072ä¸ªæ ¸å¿ƒï¼‰ã€‚å›½å¤–å·²æœ‰å»ºç«‹åœ¨Tesla k40é›†ç¾¤ä¸Šçš„è¶…ç®—ä¸­å¿ƒã€‚ä¸‹é¢ä¸€å›¾ä»¥è”½ä¹‹å§ã€‚</li><li>GPGPUåº”ç”¨ï¼šè€³ç†Ÿèƒ½è¯¦çš„GPUåº”ç”¨è¯¸å¦‚ï¼šè§†æ™¯ä»¿çœŸã€è§†é¢‘æ¸²æŸ“ã€‚ä»¥åŠçŸ³æ²¹å‹˜æ¢ã€ç¯å¢ƒç§‘å­¦ã€èˆªç©ºèˆªå¤©å’Œæµä½“åŠ›å­¦è®¡ç®—ç­‰é¢†åŸŸã€‚ä¸¾å‡ ä¸ªå…¸å‹ä¸”è¾ƒæ–°çš„ä¾‹å­ï¼šåŒ»ç–—æˆåƒã€‚æ™ºèƒ½æ±½è½¦ã€‚æ·±åº¦å­¦ä¹ ã€‚</li></ul><h1 id=æ¦‚å¿µ>æ¦‚å¿µ<a hidden class=anchor aria-hidden=true href=#æ¦‚å¿µ>#</a></h1><h2 id=ç¡¬ä»¶>ç¡¬ä»¶<a hidden class=anchor aria-hidden=true href=#ç¡¬ä»¶>#</a></h2><ul><li><p>Device, Host</p><ul><li>CPUå’Œå†…å­˜ï¼ˆhost memoryï¼‰æ˜¯hostï¼ŒGPUå’Œæ˜¾å­˜ï¼ˆdevice memoryï¼‰æ˜¯deviceã€‚</li></ul></li><li><p>SM, SP</p><ul><li>SMï¼šStream-Multiprocessorï¼Œä¿—ç§°â€œå¤§æ ¸â€ã€‚SPï¼šStream-Processorï¼Œä¿—ç§°â€œå°æ ¸â€ã€‚</li></ul></li><li><p>Global memory</p><ul><li>å°±æ˜¯é€šå¸¸æ„ä¹‰ä¸Šçš„æ˜¾å­˜ã€‚</li></ul></li><li><p>Shared memory</p><ul><li>ä¸ºåŒä¸€ä¸ªblockä¸­è‹¥å¹²threadsæ‰€å…±äº«ã€‚ å­˜å–éå¸¸å¿«ï¼Œå¯çœ‹ä½œuser-managed cacheã€‚CUDA Cä¸­çš„å…³é”®è¯ï¼š<code>__shared__</code></li></ul></li><li><p>Constant memory</p></li></ul><h2 id=å¹¶è¡Œå±‚æ¬¡>å¹¶è¡Œå±‚æ¬¡<a hidden class=anchor aria-hidden=true href=#å¹¶è¡Œå±‚æ¬¡>#</a></h2><p>å¹¶è¡Œæ˜¯ä¸€ä¸ªæ¦‚å¿µï¼Œå¯ä»¥ç”¨åœ¨ä¸åŒçš„å±‚é¢ã€‚CUDAä¸­ä»é«˜åˆ°ä½æœ‰ä»¥ä¸‹å‡ ä¸ªå±‚æ¬¡ï¼š</p><blockquote><p>stream -> grid -> block -> (warp) -> thread.</p></blockquote><p>å¹¶è¡Œå±‚æ¬¡ä¸å­˜å‚¨å±‚æ¬¡æ˜¯å¯¹åº”çš„ã€‚</p><ul><li>thread<ul><li>å¹¶è¡Œçš„åŸºæœ¬å•ä½ã€‚åŒä¸€ä¸ªblockä¸­çš„threadé€šè¿‡shared memoryå…±äº«æ•°æ®ã€‚åŒä¸€ä¸ªblockä¸­çš„threadé€šè¿‡__syncthreads()åŒæ­¥ï¼Œå…·ä½“è§ä¸‹ä¸€èŠ‚ã€‚</li></ul></li><li>warp<ul><li>In the world of weaving, a warp refers to the group of threads being woven together into fabric. In the CUDA Architecture, a warp refers to a collection of 32 threads that are â€œwoven togetherâ€ and get executed in lockstep. At every line in your program, each thread in a warp executes the same instruction on different data.</li><li>When it comes to handling constant memory, NVIDIA hardware can broadcast a single memory read to each half-warp. A half-warpâ€”not nearly as creatively named as a warpâ€”is a group of 16 threads: half of a 32-thread warp. If every thread in a half-warp requests data from the same address in constant memory, your GPU will generate only a single read request and subsequently broadcast the data to every thread. If you are reading a lot of data from constant memory, you will generate only 1/16 (roughly 6 percent) of the memory traffic as you would when using global memory.</li><li>æœ€å¤§æ”¯æŒ512ä¸ªthreadsã€‚åªç”¨ä¸€ä¸ªblockä¸èƒ½å……åˆ†åˆ©ç”¨GPUçš„èµ„æºã€‚</li></ul></li><li>grid<ul><li>We call the collection of parallel blocks a grid. åŒä¸€ä¸ªgridä¸­çš„æ‰€æœ‰threadéƒ½æ‰§è¡Œç›¸åŒå‚æ•°çš„æ ¸å‡½æ•°ã€‚</li></ul></li><li>stream<ul><li>A stream is a sequence of commands (possibly issued by different host threads) that execute in order. this behavior is not guaranteed and should therefore not be relied upon for correctness (e.g., inter-kernel communication is undefined). ä¸åŒstreamå¯æ‰§è¡Œä¸åŒå‚æ•°çš„æ ¸å‡½æ•°ã€‚</li></ul></li></ul><h2 id=é€šä¿¡æœºåˆ¶>é€šä¿¡æœºåˆ¶<a hidden class=anchor aria-hidden=true href=#é€šä¿¡æœºåˆ¶>#</a></h2><ul><li><p>Inter-thread level</p><ul><li>shared memory. è¦æ±‚æ˜¯åŒä¸€ä¸ªblockä¸­çš„threadsã€‚</li><li>å†…ç½®å‡½æ•° <code>__syncthreads()</code>. ä½œç”¨æ˜¯å½“æŸä¸ªçº¿ç¨‹æ‰§è¡Œåˆ°è¯¥å‡½æ•°æ—¶ï¼Œè¿›å…¥ç­‰å¾…çŠ¶æ€ï¼Œç›´åˆ°åŒä¸€çº¿ç¨‹å—ï¼ˆBlockï¼‰ä¸­æ‰€æœ‰çº¿ç¨‹éƒ½æ‰§è¡Œåˆ°è¿™ä¸ªå‡½æ•°ä¸ºæ­¢ã€‚</li><li>åŸå­æ“ä½œã€‚å¯ä»¥è·¨blockã€‚</li></ul></li><li><p>Inter-block level</p></li><li><p>Inter-stream level</p></li></ul><h1 id=å®è·µ>å®è·µ<a hidden class=anchor aria-hidden=true href=#å®è·µ>#</a></h1><h2 id=ç¯å¢ƒæ­å»º>ç¯å¢ƒæ­å»º<a hidden class=anchor aria-hidden=true href=#ç¯å¢ƒæ­å»º>#</a></h2><p>é‡‡ç”¨64ä½win7 + visual studio 2013 + cuda toolkit 6.5 ã€‚æ—©æœŸçš„cudaç¯å¢ƒéœ€è¦ä¸‹è½½cuda toolkitã€driversã€cuda SDKï¼Œç°åœ¨å…¨éƒ¨æ‰“åŒ…åˆ°ä¸€èµ·äº†ã€‚Cuda Toolkit 6.5ä¸‹è½½åœ°å€ï¼š<a href=https://developer.nvidia.com/cuda-downloads>å®˜ç½‘</a>
å…³äºè½¯ç¡¬ä»¶å…¼å®¹æ€§çš„é—®é¢˜ï¼Œ2010å¹´çš„è€æ˜¾å¡ï¼ˆæŒ‡ç¬”è€…çš„Quadro NVS 3100M ã€‚æ€ä¹ˆæ ·ï¼Œæ²¡å¬è¿‡å§ï¼Œè¯´å¤šéƒ½æ˜¯æ³ªâ€¦â€¦æ­¤å¡ä»‹äºG210M~G310Mä¹‹é—´ï¼‰ä»å¯ä»¥å®‰è£… 6.5 ç‰ˆï¼ŒåŸºæœ¬å¯ä»¥æ”¾å¿ƒä¸‹è½½ã€‚
å®Œæ•´çš„æ­å»ºè¿‡ç¨‹å‚è€ƒå®˜æ–¹æ–‡æ¡£ã€‚</p><h2 id=å¸¸è§é—®é¢˜>å¸¸è§é—®é¢˜<a hidden class=anchor aria-hidden=true href=#å¸¸è§é—®é¢˜>#</a></h2><ul><li><p>warning: C4819</p><ul><li>åªéœ€åœ¨é¡¹ç›®properties->configuration properties->CUDA C/C++çš„Additional optionsé‚£é‡ŒåŠ ä¸€è¡Œï¼š-Xcompiler /wd4819</li></ul></li><li><p>errorï¼šexpected and expression (ä¸èƒ½è¯†åˆ«<code>&lt;&lt;&lt;</code>)</p><ul><li>é¦–å…ˆæ£€æŸ¥å‡ºé”™çš„ä»£ç æ–‡ä»¶çš„å±æ€§ä¸­ï¼Œitem typeæ˜¯ä¸æ˜¯CUDA C/C++ã€‚å¦‚æœæ˜¯ï¼Œåˆ™æ²¡æœ‰å¤§ç¢ï¼Œåªæ˜¯VSçš„C/C++æ–‡æœ¬ç¼–è¾‘å™¨è®¤ä¸ºæœ‰é”™ï¼Œç¼–è¯‘å™¨å¯ä»¥é€šè¿‡ã€‚è¿™é‡Œæåˆ°ä¸€ç§è‡ªå®šä¹‰å®çš„æ–¹æ³•æ¶ˆé™¤è¿™ä¸ªå°bugã€‚</li></ul></li><li><p>errorï¼šaddKernel launch failed: invalid device function</p></li></ul><h2 id=å¸¸ç”¨å·¥å…·>å¸¸ç”¨å·¥å…·<a hidden class=anchor aria-hidden=true href=#å¸¸ç”¨å·¥å…·>#</a></h2><ul><li><p>deviceQuery.exe</p><ul><li>CUDA Samplesä¸­è‡ªå¸¦çš„æ£€æµ‹æ˜¾å¡ä¿¡æ¯çš„å·¥å…·ã€‚å¯ä»¥æ–¹ä¾¿çš„æŸ¥çœ‹æ˜¾å¡çš„åŸºæœ¬ä¿¡æ¯ã€‚å¦‚ï¼š<ul><li>å‹å·</li><li>Compute capability</li><li>æ ¸å¿ƒæ•°é‡ï¼ˆå¤§æ ¸SMã€å°æ ¸SPï¼‰</li><li>æ—¶é’Ÿé¢‘ç‡</li><li>global memory</li><li>const memory</li><li>shared memory/block</li><li>æœ€å¤§threadsã€blockã€gridé™åˆ¶ç­‰</li></ul></li></ul></li><li><p>bandwidthTest.exe</p><ul><li>CUDA Samplesä¸­è‡ªå¸¦çš„æµ‹è¯•Deviceå’ŒHostä¹‹é—´å¸¦å®½çš„å·¥å…·ã€‚è¿˜æœ‰ä¸ªé‡è¦åŠŸèƒ½æ˜¯æ­å»ºCUDAç¯å¢ƒåéªŒè¯æ˜¯å¦æ­£å¸¸è¿è½¬ï¼ˆçœ‹æœ€åResultæ˜¯å¦ä¸ºPASSï¼‰</li></ul></li><li><p>Visual Profiler</p></li></ul></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://pps43.github.io/posts/how_the_economic_machine_works/><span class=title>Â« Prev</span><br><span>ç»æµæœºå™¨å¦‚ä½•è¿è¡Œï¼ˆè¾¾åˆ©æ¬§ï¼‰</span>
</a><a class=next href=https://pps43.github.io/posts/je_suis_charlie/><span class=title>Next Â»</span><br><span>æˆ‘æ˜¯æŸ¥ç†</span></a></nav></footer></article></main><footer class=footer><span>Â© 2016-2023 By æ³¢æ³¢æ²™.</span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>